[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:flashloan-arbitrage]
command=node dist/index.js
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=5
redirect_stderr=true
stdout_logfile=/app/logs/app.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=NODE_ENV="production"

[program:node-exporter]
command=/usr/local/bin/node_exporter
autostart=true
autorestart=true
startretries=5
startsecs=5
redirect_stderr=true
stdout_logfile=/app/logs/node_exporter.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5

[program:metrics-collector]
command=node dist/metrics.js
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=5
redirect_stderr=true
stdout_logfile=/app/logs/metrics.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=NODE_ENV="production"

[program:error-monitor]
command=node dist/error-monitor.js
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=5
redirect_stderr=true
stdout_logfile=/app/logs/error-monitor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=NODE_ENV="production"

[program:health-check]
command=node dist/health-check.js
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=5
redirect_stderr=true
stdout_logfile=/app/logs/health-check.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=NODE_ENV="production"